(()=>{"use strict";var e,r={730:(e,r,n)=>{const i=window.wp.blocks,o=window.wp.i18n,t=window.wp.blockEditor,a=window.wp.compose,d=window.wp.components,s=window.wp.element,c=window.wp.domReady;n.n(c)()((()=>{!function(){try{if(void 0===window.mermaid)return;window.mermaid.isInitialized||(window.mermaid.initialize({startOnLoad:!1}),window.mermaid.isInitialized=!0)}catch(e){console.error("Error during Mermaid.js initialization:",e)}}()}));const u=window.ReactJSXRuntime;function l({code:e,className:r}){const n=(0,s.useRef)(null),i=(0,a.useInstanceId)(l);return(0,s.useEffect)((()=>{if(!e||!n.current)return;n.current.innerHTML="";const r=`mermaid-diagram-${i}`;window.mermaid.render(r,e).then((({svg:e})=>{n.current.innerHTML=e})).catch((e=>{console.error("Mermaid rendering failed:",e),n.current.innerHTML="<p>Invalid Mermaid syntax</p>"}))}),[e,i]),(0,u.jsx)("div",{ref:n,className:`mermaid-container ${r||""}`})}const m=JSON.parse('{"UU":"mermaid-blocks/diagram"}');(0,i.registerBlockType)(m.UU,{edit:function({attributes:e,setAttributes:r}){const{code:n}=e,[i,c,m]=(0,a.useDebouncedInput)(n||"");(0,s.useEffect)((()=>{c(null!=n?n:"")}),[n,c]);const w=(0,s.useRef)(r),f=(0,s.useRef)(n);return(0,s.useEffect)((()=>{w.current=r,f.current=n}),[r,n]),(0,s.useEffect)((()=>{m!==f.current&&w.current({code:m})}),[m]),(0,u.jsxs)("div",{...(0,t.useBlockProps)(),children:[(0,u.jsx)(d.TextareaControl,{label:(0,o.__)("Mermaid Code","mermaid-blocks"),help:(0,o.__)("Write your MermaidJS code here…","mermaid-blocks"),placeholder:(0,o.__)("Write your MermaidJS code here…","mermaid-blocks"),rows:10,value:i,onChange:c,__nextHasNoMarginBottom:!0}),(0,u.jsx)("div",{style:{marginTop:"20px"},children:(0,u.jsx)(l,{code:m})})]})},save:function({attributes:e}){const{code:r}=e;return(0,u.jsx)("div",{...t.useBlockProps.save({"data-mermaid":r})})}})}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var t=n[e]={exports:{}};return r[e](t,t.exports,i),t.exports}i.m=r,e=[],i.O=(r,n,o,t)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,o,t]=e[u],d=!0,s=0;s<n.length;s++)(!1&t||a>=t)&&Object.keys(i.O).every((e=>i.O[e](n[s])))?n.splice(s--,1):(d=!1,t<a&&(a=t));if(d){e.splice(u--,1);var c=o();void 0!==c&&(r=c)}}return r}t=t||0;for(var u=e.length;u>0&&e[u-1][2]>t;u--)e[u]=e[u-1];e[u]=[n,o,t]},i.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return i.d(r,{a:r}),r},i.d=(e,r)=>{for(var n in r)i.o(r,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},i.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={57:0,350:0};i.O.j=r=>0===e[r];var r=(r,n)=>{var o,t,[a,d,s]=n,c=0;if(a.some((r=>0!==e[r]))){for(o in d)i.o(d,o)&&(i.m[o]=d[o]);if(s)var u=s(i)}for(r&&r(n);c<a.length;c++)t=a[c],i.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return i.O(u)},n=globalThis.webpackChunkmermaid_blocks=globalThis.webpackChunkmermaid_blocks||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))})();var o=i.O(void 0,[350],(()=>i(730)));o=i.O(o)})();