(()=>{"use strict";var e,i={310:(e,i,t)=>{const r=window.wp.blocks,s=window.wp.i18n,n=window.wp.blockEditor,a=window.wp.compose,o=window.wp.components,M=window.wp.element,L=window.wp.domReady;t.n(L)()((()=>{!function(){try{if(void 0===window.mermaid)return;window.mermaid.isInitialized||(window.mermaid.initialize({startOnLoad:!1,htmlLabels:!1,flowchart:{htmlLabels:!1}}),window.mermaid.isInitialized=!0)}catch(e){console.error("Error during Mermaid.js initialization:",e)}}()}));const c=window.ReactJSXRuntime;function u({code:e,className:i}){const t=(0,M.useRef)(null),r=(0,a.useInstanceId)(u);return(0,M.useEffect)((()=>{if(!e||!t.current)return;t.current.innerHTML="";const i=`mermaid-diagram-${r}`;window.mermaid.render(i,e).then((({svg:e})=>{t.current.innerHTML=e})).catch((e=>{console.error("Mermaid rendering failed:",e),t.current.innerHTML="<p>Invalid Mermaid syntax</p>"}))}),[e,r]),(0,c.jsx)("div",{ref:t,className:`mermaid-container ${i||""}`})}const j=window.wp.htmlEntities,d={from:[{type:"block",blocks:["*"],isMultiBlock:!0,isMatch:e=>{if(!e.length)return!1;const i=e[0]?.content.trim(),t=e[e.length-1]?.content.trim();return i?.startsWith("```mermaid")&&t?.endsWith("```")},transform:e=>{const i=e.map((e=>{const i=(0,j.decodeEntities)(e?.content.trim()||"");return i.startsWith("title:")?`---\n${i}\n---`:i})).join("\n").replace(/<br\s*\/?>/gi,"\n").replace(/```mermaid/,"").replace(/```$/,"");return(0,r.createBlock)("mermaid-blocks/diagram",{code:i.trim()})}}]},l=JSON.parse('{"UU":"mermaid-blocks/diagram"}');[{name:"class-diagram",title:"Class Diagram",description:"A preconfigured MermaidJS block for creating class diagrams.",attributes:{code:"classDiagram\nClass01 <|-- AveryLongClass : Cool\n<<Interface>> Class01\nClass09 --\x3e C2 : Where am I?\nClass09 --* C3\nClass09 --|> Class07\nClass07 : equals()\nClass07 : Object[] elementData\nClass01 : size()\nClass01 : int chimp\nClass01 : int gorilla\nclass Class10 {\n  <<service>>\n  int id\n  size()\n}"},keywords:["class","diagram","mermaid"],icon:"database",scope:"transform"},{name:"flowchart",title:(0,s.__)("Flowchart","mermaid-blocks"),description:(0,s.__)("A preconfigured MermaidJS block for creating flowcharts.","mermaid-blocks"),attributes:{code:"flowchart LR\n\nA[Hard] --\x3e|Text| B(Round)\nB --\x3e C{Decision}\nC --\x3e|One| D[Result 1]\nC --\x3e|Two| E[Result 2]"},keywords:[(0,s.__)("flowchart","mermaid-blocks"),(0,s.__)("diagram","mermaid-blocks")],scope:"transform",icon:"chart-bar"},{name:"mindmap",title:"Mind Map",description:"A preconfigured MermaidJS block for creating mind maps.",attributes:{code:"mindmap\nOrigins\n      Long history\n      Popularisation\n        British popular psychology author Tony Buzan\n    Research\n      On effectiveness and features\n      On Automatic creation\n        Uses\n            Creative techniques\n            Strategic planning\n            Argument mapping\n    Tools\n      Pen and paper\n      Mermaid"},keywords:["mindmap","diagram","mermaid"],icon:"admin-users",scope:"transform"},{name:"sequence-diagram",title:"Sequence Diagram",description:"A preconfigured MermaidJS block for creating sequence diagrams.",attributes:{code:"sequenceDiagram\nAlice->>John: Hello John, how are you?\nloop HealthCheck\n    John->>John: Fight against hypochondria\nend\nNote right of John: Rational thoughts!\nJohn--\x3e>Alice: Great!\nJohn->>Bob: How about you?\nBob--\x3e>John: Jolly good!"},keywords:["sequence","diagram","mermaid"],icon:"networking",scope:"transform"},{name:"state-diagram",title:"State Diagram",description:"A preconfigured MermaidJS block for creating state diagrams.",attributes:{code:"stateDiagram-v2\n[*] --\x3e Still\nStill --\x3e [*]\nStill --\x3e Moving\nMoving --\x3e Still\nMoving --\x3e Crash\nCrash --\x3e [*]"},keywords:["state","diagram","mermaid"],icon:"controls-play",scope:"transform"}].forEach((e=>{(0,r.registerBlockVariation)("mermaid-blocks/diagram",{name:e.name,title:e.title,description:e.description,attributes:e.attributes,keywords:e.keywords,icon:e.icon,scope:e.scope})})),window.React,(0,r.registerBlockType)(l.UU,{icon:{background:"#fff",src:(0,c.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgYXJpYS1oaWRkZW49InRydWUiIGZvY3VzYWJsZT0iZmFsc2UiPgoJPHBhdGggZmlsbD0iIzFFMUUxRSIgZD0iTTk5NS41LDQzMS43Yy03Ni4zLDMzLjQtMTc1LjcsMTA1LjQtMjM0LjcsMTU1LjVsLTEuNywxLjRsLTEuOSwxLjJjLTE4LjMsMTEuNC00NS41LDI2LjUtNzEuMSwyNi41CiAgICBjLTExLjcsMC0yMi4xLTMuMS0zMS05LjNjLTM0LjEtMjMuNy0yNy43LTc2LjItMTYuNC0xMzQuNmMtNy45LDYuNC0xNy42LDE1LTI5LjcsMjYuMmMtMzAuNCwyOC40LTYzLjksNjMuMy05MC43LDkxLjRsLTAuNiwwLjYKICAgIGMtMTAsMTAuNS0yOC43LDMwLTUwLjQsMzBjLTYuNCwwLTEyLjUtMS43LTE4LjItNS4xYy0zMC44LTE4LjUtMjEuNS01OS41LDE0LjMtMTcwLjJjLTExLjcsMTMuNi0yNC43LDI5LjMtMzksNDcKICAgIGMtNDgsNTkuNS0xMTAuMywxNDEuMy0xOTAuMywyNTBjLTIxLjYsMjkuMy0zOS45LDUxLjgtNjIsNTEuOGMtNS45LDAtMTEuNi0xLjctMTcuMS00LjljLTI2LjYtMTUuOS0xNS45LTUyLTguMS03OC40CiAgICBjNy40LTI1LDIwLjEtNjAuNCwzNy43LTEwNWMyOS4yLTc0LjMsNzIuNy0xNzYuMSwxMjktMzAyLjZjNi4xLTEzLjgsMTIuMy0yNy42LDE4LjUtNDEuM2MtNDAuNC0zMS02NC41LTczLjMtNzgtMTIyLjUKICAgIGMtNi4zLTIzLTkuNi00NS45LTEwLjQtNjguNkM5Ny44LDE1OC4yLTAuMSwzMTgtMC4xLDUwMC4yYzAsMjc1LjgsMjI0LjQsNTAwLjIsNTAwLjIsNTAwLjJzNTAwLjItMjI0LjQsNTAwLjItNTAwLjIKICAgIEMxMDAwLjIsNDc2LjksOTk4LjYsNDU0LjEsOTk1LjUsNDMxLjd6Ii8+Cgk8cGF0aCBmaWxsPSIjMUUxRTFFIiBkPSJNNTE4LDAuNGwtNjcuMywyLjFjLTQxLjQsNC4xLTgxLjMsMTMuMi0xMTkuMSwyNi44YzE0LjMsMTcuNCwyNy43LDM1LjIsMzguMiw1NC44YzYuOSwxMi44LDEyLjUsMjYuMywxNi4zLDQxCiAgICBjMSw0LDEuOSw4LDIuNiwxMmM0LjQsMjQuMiwyLjgsNDgtNS4xLDcxLjhjLTEuMyw0LjEtMi42LDguMi0zLjYsMTIuM2MtMC42LDIuNi0zLDYuMiwwLjcsNy44YzMsMS4zLDUuNS0xLjYsNy4zLTMuOQogICAgYzIuNy0zLjMsNS40LTYuNyw3LjctMTAuM2MxNC41LTIzLjMsMzEuMi00Mi43LDUwLjEtNTguM2MxOC42LTE1LjMsMzkuMy0yNyw2Mi4xLTM1LjFjMjEuMy03LjYsNDQuNC0xMiw2OS4zLTEzLjQKICAgIGMyMi40LTEuMiw0NC45LTEuNyw2Ny4zLTNjMjAuNS0xLjIsNDAuNC02LDU5LjgtMTIuOWMyLjctMSw1LjctMy40LDguMS0wLjVjMiwyLjQtMC40LDUtMS40LDcuM2MtMTAuMywyMi4zLTI2LjQsNDAuMy00My41LDU3LjIKICAgIGMtNDMuMSw0Mi42LTkyLDc2LjktMTQ4LjMsOTkuOWMtNDEuNywxNy04NC43LDI2LjktMTI5LjUsMjQuM2MtMy42LDgtNy4yLDE2LTEwLjgsMjQuMWMtNzMuNCwxNjQtMTE2LjcsMjY3LjktMTQyLjIsMzMzLjQKICAgIEMzMDAsNTUzLDM1MC41LDQ4Ny43LDM5MC4zLDQzOS4xYzI5LTM1LjQsNTEuNy02MS4xLDY5LjMtNzguNWMxNi40LTE2LjIsMzMuOS0zMS45LDUzLjMtMzEuOWM1LjUsMCwxMC44LDEuMywxNS43LDMuOAogICAgYzI5LjQsMTUsMTcuOCw1MS40LDEyLjgsNjdjLTQuMiwxMy4yLTguOCwyNy4zLTEzLjIsNDAuOGMtNy43LDIzLjUtMTcuMiw1Mi43LTI0LjgsNzguNmM4Ni4yLTg4LjgsMTI5LjktMTI2LjQsMTYyLjYtMTI2LjQKICAgIGM2LjQsMCwxMi41LDEuNSwxOC4xLDQuNGMxMi44LDYuNywyNi41LDIyLjMsMTkuMiw1OC43bC0xLjQsNi45Yy01LjEsMjUuMy0xMC40LDUxLjQtMTEuOSw3Mi4xYy0wLjgsMTAuOC0wLjMsMTcuMywwLjMsMjEKICAgIGM1LjMtMS4yLDE1LjYtNC45LDMzLjEtMTUuN2MxMS44LTkuOSw2Ny4xLTU1LjYsMTM0LjEtOTkuN2M0OC0zMS42LDg5LjctNTQuNCwxMjUuNi02OC43QzkyNy45LDE2My40LDc0MS40LDguMyw1MTgsMC40eiIvPgo8L3N2Zz4K",alt:"icon"})},transforms:d,edit:function({attributes:e,setAttributes:i}){const{code:t}=e,[r,L,j]=(0,a.useDebouncedInput)(t||"");(0,M.useEffect)((()=>{L(null!=t?t:"")}),[t,L]);const d=(0,M.useRef)(i),l=(0,M.useRef)(t);return(0,M.useEffect)((()=>{d.current=i,l.current=t}),[i,t]),(0,M.useEffect)((()=>{j!==l.current&&d.current({code:j})}),[j]),(0,c.jsxs)("div",{...(0,n.useBlockProps)(),children:[(0,c.jsx)(n.InspectorControls,{children:(0,c.jsxs)(o.PanelBody,{title:"Instructions",initialOpen:!0,children:[(0,c.jsx)(o.PanelRow,{children:(0,c.jsxs)("p",{children:["Use ",(0,c.jsx)("strong",{children:"MermaidJS syntax"})," to create diagrams. For example:"]})}),(0,c.jsx)(o.PanelRow,{children:(0,c.jsxs)("code",{children:["flowchart LR",(0,c.jsx)("br",{}),"A[Start] --\x3e B[Decision]",(0,c.jsx)("br",{}),"B --\x3e|Yes| C[Result]",(0,c.jsx)("br",{}),"B --\x3e|No| D[Exit]",(0,c.jsx)("br",{})]})}),(0,c.jsx)(o.PanelRow,{children:(0,c.jsxs)("p",{children:["Supported diagram types: flowchart, sequence diagram, Gantt chart, class, and many other diagrams. Visit ",(0,c.jsx)("a",{href:"https://mermaid.js.org/intro/",target:"_blank",rel:"noopener noreferrer",children:"MermaidJS Documentation"})," for details."]})})]})}),(0,c.jsx)(o.TextareaControl,{label:(0,s.__)("Mermaid Code","mermaid-blocks"),help:(0,s.__)("Write your MermaidJS code here…","mermaid-blocks"),placeholder:(0,s.__)("Write your MermaidJS code here…","mermaid-blocks"),rows:10,value:r,onChange:L,__nextHasNoMarginBottom:!0}),(0,c.jsx)("div",{style:{marginTop:"20px"},children:(0,c.jsx)(u,{code:j})})]})},save:function({attributes:e}){const{code:i}=e;return(0,c.jsx)("pre",{...n.useBlockProps.save(),children:i})}})}},t={};function r(e){var s=t[e];if(void 0!==s)return s.exports;var n=t[e]={exports:{}};return i[e](n,n.exports,r),n.exports}r.m=i,e=[],r.O=(i,t,s,n)=>{if(!t){var a=1/0;for(c=0;c<e.length;c++){for(var[t,s,n]=e[c],o=!0,M=0;M<t.length;M++)(!1&n||a>=n)&&Object.keys(r.O).every((e=>r.O[e](t[M])))?t.splice(M--,1):(o=!1,n<a&&(a=n));if(o){e.splice(c--,1);var L=s();void 0!==L&&(i=L)}}return i}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[t,s,n]},r.n=e=>{var i=e&&e.__esModule?()=>e.default:()=>e;return r.d(i,{a:i}),i},r.d=(e,i)=>{for(var t in i)r.o(i,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:i[t]})},r.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var e={57:0,350:0};r.O.j=i=>0===e[i];var i=(i,t)=>{var s,n,[a,o,M]=t,L=0;if(a.some((i=>0!==e[i]))){for(s in o)r.o(o,s)&&(r.m[s]=o[s]);if(M)var c=M(r)}for(i&&i(t);L<a.length;L++)n=a[L],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(c)},t=globalThis.webpackChunkmermaid_blocks=globalThis.webpackChunkmermaid_blocks||[];t.forEach(i.bind(null,0)),t.push=i.bind(null,t.push.bind(t))})();var s=r.O(void 0,[350],(()=>r(310)));s=r.O(s)})();