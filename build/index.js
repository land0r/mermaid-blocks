(()=>{"use strict";var e,r={493:(e,r,n)=>{const a=window.wp.blocks,i=window.wp.i18n,o=window.wp.blockEditor,t=window.wp.compose,s=window.wp.components,c=window.wp.element,d=window.wp.domReady;n.n(d)()((()=>{!function(){try{if(void 0===window.mermaid)return;window.mermaid.isInitialized||(window.mermaid.initialize({startOnLoad:!1}),window.mermaid.isInitialized=!0)}catch(e){console.error("Error during Mermaid.js initialization:",e)}}()}));const l=window.ReactJSXRuntime;function m({code:e,className:r}){const n=(0,c.useRef)(null),a=(0,t.useInstanceId)(m);return(0,c.useEffect)((()=>{if(!e||!n.current)return;n.current.innerHTML="";const r=`mermaid-diagram-${a}`;window.mermaid.render(r,e).then((({svg:e})=>{n.current.innerHTML=e})).catch((e=>{console.error("Mermaid rendering failed:",e),n.current.innerHTML="<p>Invalid Mermaid syntax</p>"}))}),[e,a]),(0,l.jsx)("div",{ref:n,className:`mermaid-container ${r||""}`})}const u=JSON.parse('{"UU":"mermaid-blocks/diagram"}');[{name:"class-diagram",title:"Class Diagram",description:"A preconfigured MermaidJS block for creating class diagrams.",attributes:{code:"classDiagram\nClass01 <|-- AveryLongClass : Cool\n<<Interface>> Class01\nClass09 --\x3e C2 : Where am I?\nClass09 --* C3\nClass09 --|> Class07\nClass07 : equals()\nClass07 : Object[] elementData\nClass01 : size()\nClass01 : int chimp\nClass01 : int gorilla\nclass Class10 {\n  <<service>>\n  int id\n  size()\n}"},keywords:["class","diagram","mermaid"],icon:"database",scope:"transform"},{name:"flowchart",title:(0,i.__)("Flowchart","mermaid-blocks"),description:(0,i.__)("A preconfigured MermaidJS block for creating flowcharts.","mermaid-blocks"),attributes:{code:"flowchart LR\n\nA[Hard] --\x3e|Text| B(Round)\nB --\x3e C{Decision}\nC --\x3e|One| D[Result 1]\nC --\x3e|Two| E[Result 2]"},keywords:[(0,i.__)("flowchart","mermaid-blocks"),(0,i.__)("diagram","mermaid-blocks")],scope:"transform",icon:"chart-bar"},{name:"mindmap",title:"Mind Map",description:"A preconfigured MermaidJS block for creating mind maps.",attributes:{code:"mindmap\nOrigins\n      Long history\n      Popularisation\n        British popular psychology author Tony Buzan\n    Research\n      On effectiveness and features\n      On Automatic creation\n        Uses\n            Creative techniques\n            Strategic planning\n            Argument mapping\n    Tools\n      Pen and paper\n      Mermaid"},keywords:["mindmap","diagram","mermaid"],icon:"admin-users",scope:"transform"},{name:"sequence-diagram",title:"Sequence Diagram",description:"A preconfigured MermaidJS block for creating sequence diagrams.",attributes:{code:"sequenceDiagram\nAlice->>John: Hello John, how are you?\nloop HealthCheck\n    John->>John: Fight against hypochondria\nend\nNote right of John: Rational thoughts!\nJohn--\x3e>Alice: Great!\nJohn->>Bob: How about you?\nBob--\x3e>John: Jolly good!"},keywords:["sequence","diagram","mermaid"],icon:"networking",scope:"transform"},{name:"state-diagram",title:"State Diagram",description:"A preconfigured MermaidJS block for creating state diagrams.",attributes:{code:"stateDiagram-v2\n[*] --\x3e Still\nStill --\x3e [*]\nStill --\x3e Moving\nMoving --\x3e Still\nMoving --\x3e Crash\nCrash --\x3e [*]"},keywords:["state","diagram","mermaid"],icon:"controls-play",scope:"transform"}].forEach((e=>{(0,a.registerBlockVariation)("mermaid-blocks/diagram",{name:e.name,title:e.title,description:e.description,attributes:e.attributes,keywords:e.keywords,icon:e.icon,scope:e.scope})})),(0,a.registerBlockType)(u.UU,{edit:function({attributes:e,setAttributes:r}){const{code:n}=e,[a,d,u]=(0,t.useDebouncedInput)(n||"");(0,c.useEffect)((()=>{d(null!=n?n:"")}),[n,d]);const p=(0,c.useRef)(r),g=(0,c.useRef)(n);return(0,c.useEffect)((()=>{p.current=r,g.current=n}),[r,n]),(0,c.useEffect)((()=>{u!==g.current&&p.current({code:u})}),[u]),(0,l.jsxs)("div",{...(0,o.useBlockProps)(),children:[(0,l.jsx)(s.TextareaControl,{label:(0,i.__)("Mermaid Code","mermaid-blocks"),help:(0,i.__)("Write your MermaidJS code here…","mermaid-blocks"),placeholder:(0,i.__)("Write your MermaidJS code here…","mermaid-blocks"),rows:10,value:a,onChange:d,__nextHasNoMarginBottom:!0}),(0,l.jsx)("div",{style:{marginTop:"20px"},children:(0,l.jsx)(m,{code:u})})]})},save:function({attributes:e}){const{code:r}=e;return(0,l.jsx)("pre",{...o.useBlockProps.save(),children:r})}})}},n={};function a(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,a),o.exports}a.m=r,e=[],a.O=(r,n,i,o)=>{if(!n){var t=1/0;for(l=0;l<e.length;l++){for(var[n,i,o]=e[l],s=!0,c=0;c<n.length;c++)(!1&o||t>=o)&&Object.keys(a.O).every((e=>a.O[e](n[c])))?n.splice(c--,1):(s=!1,o<t&&(t=o));if(s){e.splice(l--,1);var d=i();void 0!==d&&(r=d)}}return r}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,i,o]},a.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return a.d(r,{a:r}),r},a.d=(e,r)=>{for(var n in r)a.o(r,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={57:0,350:0};a.O.j=r=>0===e[r];var r=(r,n)=>{var i,o,[t,s,c]=n,d=0;if(t.some((r=>0!==e[r]))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(c)var l=c(a)}for(r&&r(n);d<t.length;d++)o=t[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(l)},n=globalThis.webpackChunkmermaid_blocks=globalThis.webpackChunkmermaid_blocks||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))})();var i=a.O(void 0,[350],(()=>a(493)));i=a.O(i)})();